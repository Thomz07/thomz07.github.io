<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Thomas Laffay</title>
    <link rel="stylesheet" href="style.css"/>
    <!--Code for the background taken from : https://codepen.io/georgedoescode/pen/bGBzGKZ -->
</head>
<body>
    <div class="canvas-wrapper">
        <svg class="canvas" viewBox="0 0 1920 1080" preserveAspectRatio="xMaxYMid slice"></svg>
    </div>
    <div id="mainContainer">
        <div id="infoContainer" class="container container-small">
            <div class="navBar">
                <div id="closeButton" class="navButton"></div>
                <div id="reduceButton" class="navButton"></div>
                <div id="expandButton" class="navButton"></div>
            </div>
            <div class="containerContent">
                <div id="pictureNameContainer">
                    <img id="picture" alt="Thomas Laffay photo" loading="lazy" src ="https://github.com/Thomz07/thomz07.github.io/blob/master/CV/profile_picture.jpg?raw=true"/>
                    <p id="nomPrenom">Thomas Laffay</p>
                    <p id="dateDeNaissance">25/08/2003</p>
                </div>
                <div id="formationScolaireCompetences">
                    <p>2019-2020 <br> Terminale STI2D au Lycée Saint-Denis, Annonay<br>Bac mention Assez Bien</p><br>
                    <p>2020-2023 <br> Bachelor "Chef de projet de la transition du numérique" <br>à l'Ecole LDLC</p><br><br>
                    <div class="skill-container">
                        <p>Sait être autonome</p><img width="40px" src="img/solo.svg"/>
                    </div>
                    <div class="skill-container">
                        <p>Sait travailler en groupe</p><img width="40px" src="img/groupe.svg"/>
                    </div>
                </div>
            </div>
        </div>
        <div class="container container-big">
            <div class="navBar">
                <div id="closeButton" class="navButton"></div>
                <div id="reduceButton" class="navButton"></div>
                <div id="expandButton" class="navButton"></div>
            </div>
        </div>
        <div class="container container-big">
            <div class="navBar">
                <div id="closeButton" class="navButton"></div>
                <div id="reduceButton" class="navButton"></div>
                <div id="expandButton" class="navButton"></div>
            </div>
        </div>
        <div class="container container-small">
            <div class="navBar">
                <div id="closeButton" class="navButton"></div>
                <div id="reduceButton" class="navButton"></div>
                <div id="expandButton" class="navButton"></div>
            </div>
        </div>
    </div>
    <script type="module">
        console.clear();

        import { SVG } from "https://cdn.skypack.dev/@svgdotjs/svg.js";
        import {
        random,
        map,
        spline,
        pointsInPath
        } from "https://cdn.skypack.dev/@georgedoescode/generative-utils@1.0.0";
        import tinycolor from "https://cdn.skypack.dev/tinycolor2@1.4.2";

        const svg = SVG(".canvas");
        const { width, height } = svg.viewbox();

        function wave(start, end, gradient) {
        const numSteps = random(4, 8, true);
        const step = 1 / numSteps;
        const randomRange = random(32, 64);

        const points = [];
        let pointPosition = 0;

        for (let i = 0; i <= numSteps; i++) {
            const step = map(i, 0, numSteps, 0, 1);

            let x = lerp(start.x, end.x, step);
            let y = lerp(start.y, end.y, step);

            if (i !== 0 && i !== numSteps) {
            x += random(-randomRange, randomRange);
            y += random(-randomRange, randomRange);
            }

            points.push({ x, y });
        }

        const pathData =
            spline(points, 1, false) + `L ${end.x} ${height} L ${start.x} ${height} Z`;

        const path = svg.path(pathData).attr("fill", gradient);
        }

        function lerp(v0, v1, t) {
        return v0 * (1 - t) + v1 * t;
        }

        function generate() {
        const numWaves = 5;
        const base = tinycolor(`hsl(${random(0,360)}, 65%, 55%)`);
        const colors = base.analogous(6);

        svg.rect(width, height).fill(random(colors).clone().darken(40).toString());

        for (let i = 0; i < numWaves; i++) {
            const randomOffset = random(-50, 50);
            const originY = map(i, 0, numWaves, -height / 2, height / 3) + randomOffset;
            const endY = map(i, 0, numWaves, 0, 1000) + randomOffset;

            const color = random(colors).clone();
            color.darken(5 * (2 - i + 1));

            const gradientOffset = map(i, 0, numWaves, 0.1, 1);

            let gradient = svg.gradient("linear", function (add) {
            add.stop(0, color.clone().lighten(30).toHexString());
            add.stop(gradientOffset, color.clone().spin(60).toHexString());
            });

            gradient.from(0.5, 0).to(0, 1);

            wave({ x: 0, y: originY }, { x: width, y: endY }, gradient);
        }
        }

        generate();
    </script>
</body>
</html>
